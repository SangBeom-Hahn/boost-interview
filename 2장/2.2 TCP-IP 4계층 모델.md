## Protocol

컴퓨터 네트워크에서 2대 이상의 장치가 서로 통신할 때 사용하는 규칙과 절차

### `Internet Protocol Suite`

프로토콜의 집합

- HTTP, FTP, SMTP, DNS, TCP, UDP, IP, ICMP, Ethernet, …
- TCP/IP 4계층 모델 또는 OSI 7계층 모델로 설명함
- OSI(Open Systems Interconnection)는 네트워크 통신의 데이터 표준을 정리한 이론적인 모델이며, TCP/IP은 이를 실제 인터넷 통신에 적용하기 위해 단순화한 실용적인 모델임

---

## TCP/IP 4 Layer

네트워크 통신을 역할에 따라 네 개의 계층으로 나누어 설명하는 모델

### `L4.Application Layer`

사용자와 직접 상호작용하며 데이터 생성 및 처리를 담당하는 계층

- **데이터 단위** : Data 또는 Message
- **송신** : 응용 프로그램에서 데이터를 생성
- **수신** : 데이터를 받아 처리하고, 사용자 또는 응용 프로그램에 전달
- **프로토콜** : HTTP, FTP, SMTP, SSH, DNS

### `L3.Transport Layer`

데이터의 세그먼트화 및 응용 프로그램 간의 데이터 전송을 관리하는 계층

- **데이터 단위** : Segment(TCP) 또는 Datagram(UDP)
- **전송 주소** : Port
- **송신** : 데이터를 세그먼트로 캡슐화하고, 출발지와 목적지 포트 번호 부여
- **수신** : 세그먼트를 데이터로 역캡슐화하고, 포트 번호를 기반으로 해당 응용 계층으로 전달
- **프로토콜** : TCP, UDP

### `L2.Internet Layer`

서로 다른 네트워크 간의 데이터 패킷 라우팅 및 주소 할당을 담당하는 계층

- **데이터 단위** : Packet
- **전송 주소** : IP (Logical Address)
- **송신** : 세그먼트를 패킷으로 캡슐화하고, 출발지와 목적지 IP 주소 부여
- **수신** : 패킷을 세그먼트로 역캡슐화하여 전송 계층으로 전달
- **장비** : 라우터
- **프로토콜** : IP, ICMP, ARP

### `L1.Network Interface Layer`

같은 네트워크 안에서 물리적 네트워크 매체를 통해 데이터 프레임의 실제 전송을 담당하는 계층

- **데이터 단위** : Frame
- **전송 주소** : MAC (Physical Address)
- **송신** : 패킷을 프레임으로 캡슐화하고, 물리적 네트워크 매체(이더넷 케이블, Wi-Fi)를 통해 전송
- **수신** : 프레임을 패킷으로 역캡슐화하여 인터넷 계층으로 전달
- **장비** : 스위치
- **프로토콜** : Ethernet, Wi-Fi

---

## Application Layer Protocol

### `HTTP (HyperText Transfer Protocol)`

WWW(World Wide Web)에서 hypertext 문서를 전송하기 위해 사용되는 프로토콜

**주요 기능**
- 웹 브라우저와 웹 서버 간의 데이터 통신을 담당함

**특징**
- 기본적으로 80번 포트를 사용함
- 요청/응답(Request/Response) 모델을 사용하여 클라이언트가 서버에 요청을 보내고 서버가 응답을 반환함
- 비연결성 프로토콜로, 각 요청마다 별도의 연결을 설정하고 종료함
- 상태가 없는 프로토콜로, 각 요청 간의 상태 정보를 유지하지 않음

### `HTTPS (HyperText Transfer Protocol Secure)`

HTTP에 보안 기능을 추가한 프로토콜

**주요 기능**
- HTTP의 기능을 모두 포함하며, 데이터 전송 시 보안을 위해 SSL/TLS 암호화를 사용함

**특징**
- 기본적으로 443번 포트를 사용함
- 클라이언트와 서버 간의 데이터 전송을 암호화하여 도청, 중간자 공격 등을 방지함
- 인증서를 사용하여 서버의 신원을 확인할 수 있음

### `FTP (File Transfer Protocol)`

네트워크를 통해 파일을 전송하는 프로토콜

**주요 기능**
- 파일 업로드 및 다운로드를 지원함

**특징**
- 기본적으로 21번 포트를 사용함
- 제어 연결과 데이터 연결의 두 가지 연결을 사용하여 파일 전송을 관리함
- 익명 FTP를 통해 사용자 인증 없이 파일을 전송할 수 있지만, 일반적으로는 사용자 인증을 요구함
- 데이터 전송 모드로 ASCII 모드와 바이너리 모드를 지원함

### `SMTP (Simple Mail Transfer Protocol)`

이메일을 전송하기 위한 프로토콜

**주요 기능**
- 메일 서버 간의 이메일 전송을 담당함

**특징**
- 기본적으로 25번 포트를 사용함
- 간단한 텍스트 기반 프로토콜로, 이메일 메시지와 관련된 명령을 전달함
- 메일 큐잉을 통해 일시적인 전송 실패 시 재전송을 시도함
- 보안을 위해 STARTTLS와 같은 암호화 옵션을 사용할 수 있음

### `DNS (Domain Name System)`

도메인 이름을 IP 주소로 변환하는 프로토콜

**주요 기능**
- 도메인 이름을 사용하여 네트워크 리소스를 식별하고 접근할 수 있도록 함

**특징**
- 기본적으로 53번 포트를 사용함
- 분산된 데이터베이스 시스템으로, 전 세계에 분산된 여러 서버가 협력하여 도메인 이름을 관리함
- 재귀적 질의와 반복적 질의를 통해 클라이언트의 요청에 응답함
- DNS 캐싱을 통해 조회 성능을 향상시키고 네트워크 부하를 줄임

---

## Transport Layer Protocol

### `TCP (Transmission Control Protocol)`

연결 지향형 프로토콜로, 신뢰성있는 데이터 전송을 제공함

**주요 기능**
- 데이터의 전송 순서를 보장함
- 데이터 전송 중 발생한 오류를 검출하고 재전송함
- 수신자가 수신 가능한 데이터 양을 송신자에게 알려주어 데이터 흐름을 제어함
- 네트워크 혼잡을 감지하고 이를 완화하기 위해 데이터 전송 속도를 조절함

**특징**
- **가상회선 패킷 교환 방식** : 통신 세션 동안 가상 회선이 유지되며, 모든 패킷은 동일한 경로를 따름
- **연결 설정 (3-way handshake)** : 통신을 시작하기 전에 송신자와 수신자 간에 세션을 설정함
- **데이터 전송** : 세션이 설정되면 데이터를 송신하고, 수신자가 이를 확인함
- **연결 해제 (4-way handshake)** : 데이터 전송이 완료되면 세션을 종료함
- HTTP, HTTPS, SMTP, FTP 등 신뢰성 있는 데이터 전송이 필요한 애플리케이션에서 사용함

### `UDP (User Datagram Protocol)`

비연결형 프로토콜로, 데이터 전송의 신속성을 우선시함

**주요 기능**
- 연결을 설정하지 않고 독립적인 데이터그램을 전송함
- 간단한 체크섬을 통해 최소한의 오류 검출로 데이터 무결성을 확인함

**특징**
- **데이터그램 패킷 교환 방식** : 각 패킷은 독립적으로 별도의 경로를 선택함
- 각 데이터그램은 독립적으로 전송되며, 순서 보장이나 오류 수정이 없음
- 송신자와 수신자 간의 연결 설정이 필요 없으므로 빠르게 데이터를 전송할 수 있음
- 헤더가 간단하여 오버헤드가 적음
- 실시간 스트리밍, 온라인 게임 등 빠른 전송이 중요하고 일부 데이터 손실이 허용 가능한 애플리케이션에서 사용함

---

## Internet Layer Protocol

### **`IP (Internet Protocol)`**

데이터를 패킷 단위로 나누어 전송하고, 이를 목적지까지 전달하는 프로토콜

**주요 기능**
- **IP 주소 지정** : 패킷의 출발지와 목적지의 IP 주소를 지정
- **라우팅** : 라우팅 테이블을 통해 목적지까지의 라우터 경로를 지정

**특징**
- **비연결형 프로토콜** : 각 패킷은 독립적으로 처리되며, 패킷이 분실되거나 순서가 변경될 수 있음
- **헤더 구조** : 출발지와 목적지의 IP 주소, 패킷 길이, TTL(Time to Live) 등이 포함됨

**버전**
- **IPv4** : 32비트 주소 체계를 사용하며, 약 43억 개의 주소를 지원함
- **IPv6** : 128비트 주소 체계를 사용하며, 거의 무한에 가까운 주소를 지원함

### **`ICMP (Internet Control Message Protocol)`**

네트워크 장치 간의 오류 메시지와 진단 정보를 전달하는 데 사용되는 프로토콜

**주요 기능**
- 패킷이 목적지에 도달하지 못했을 때 오류 메시지를 송신 측에 알림
- 네트워크 상태를 확인하기 위한 진단 메시지를 전송함

**특징**
- 신뢰성 있는 전송을 보장하지 않으며, 단순히 오류 상태를 보고함
- 다양한 메시지 타입이 있으며, 대표적으로 ping 명령어에서 사용되는 echo request와 echo reply가 있음

### **`ARP (Address Resolution Protocol)`**

IP 주소를 물리적 MAC 주소로 변환하는 프로토콜

**주요 기능**
- IP 주소와 MAC 주소 간의 매핑을 관리하여 네트워크 장치가 서로 통신할 수 있도록 함

**특징**
- **ARP 요청** : IP 주소에 해당하는 MAC 주소를 요청하는 브로드캐스트 메시지를 전송함
- **ARP 응답** : 요청된 IP 주소를 가진 장치가 자신의 MAC 주소를 포함한 응답 메시지를 전송함
- **ARP 캐시** : IP-MAC 주소 매핑을 캐시에 저장하여 성능을 향상시킴

---

## Nework Interface Layer Protocol

### **`Ethernet (IEEE 802.3)`**

유선 LAN을 구현하는 프로토콜

**특징**
- CSMA/CD(Carrier Sense Multiple Access with Collision Detection)을 사용하여 네트워크의 여러 장치가 동시에 데이터를 전송하려고 할 때 발생하는 충돌을 관리함
- 송수신 MAC 주소를 담은 이더넷 헤더를 포함한 이더넷 프레임을 구성하여 전달함
- 다양한 속도(10Mbps, 100Mbps, 1Gbps 등)를 지원함

### **`Wi-Fi (IEEE 802.11)`**

무선 LAN을 구현하는 프로토콜

**특징**
- 무선 AP(Access Point)가 필요함
- 송수신 MAC 주소외에 무선 AP의 MAC 주소가 헤더에 추가로 포함됨
- 다양한 주파수 대역(2.4GHz, 5GHz 등)을 사용함
